Screens:
  PantallaPrincipal:
    Properties:
      BackgroundImage: =logo_alisal_modificado
      ImagePosition: =ImagePosition.Center
      LoadingSpinnerColor: =RGBA(56, 96, 178, 1)
    Children:
      - RectQuickActionBar1:
          Control: Rectangle@2.3.0
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Fill: =RGBA(54, 176, 75, 1)
            Height: =88
            Width: =Parent.Width
      - GaleriaInc:
          Control: Gallery@2.15.0
          Variant: BrowseLayout_Vertical_ThreeTextVariant_ver4.0
          Properties:
            BorderColor: =RGBA(54, 176, 75, 1)
            BorderThickness: =1
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Parent.Height - Self.Y
            Items: |+
              =If(
                  NoCerradas.Value = true,
                  SortByColumns(
                      Filter(
                          [@'Incidencias Informáticas'],            
                              TextSearchBox1.Text in Asunto
                      ),
                      "FechaIncidencia",
                      If(
                          SortDescending1,
                          SortOrder.Ascending,
                          SortOrder.Descending
                      )
                  ),
                  SortByColumns(
                      Filter(
                          [@'Incidencias Informáticas'],
                          StartsWith(
                              Asunto,
                              TextSearchBox1.Text
                          ),
                          Estado.Value = "Nuevo" || Estado.Value = "En progreso" || Estado.Value = "En espera" 
                      ),
                      "FechaIncidencia",
                      If(
                          SortDescending1,
                          SortOrder.Ascending,
                          SortOrder.Descending
                      )
                  )
              )

            OnSelect: =Navigate(DetalleIncidencia, ScreenTransition.None)
            ShowScrollbar: =false
            TemplateSize: =324
            Width: =Parent.Width
            Y: =TextSearchBox1.Y + TextSearchBox1.Height
          Children:
            - LblDescripcionCorta:
                Control: Label@2.5.1
                Properties:
                  BorderColor: =RGBA(0, 0, 0, 1)
                  Font: =Font.'Open Sans'
                  FontWeight: =FontWeight.Semibold
                  Height: =Self.Size * 1.8
                  OnSelect: =Select(Parent)
                  PaddingBottom: =0
                  PaddingLeft: =0
                  PaddingRight: =0
                  PaddingTop: =0
                  Size: =20
                  Text: =ThisItem.Asunto
                  VerticalAlign: =VerticalAlign.Top
                  Width: =603
                  X: =32
                  Y: =16
            - LblDescripcionLarga:
                Control: Label@2.5.1
                Properties:
                  BorderColor: =RGBA(0, 0, 0, 1)
                  Font: =Font.'Open Sans'
                  Height: =200
                  OnSelect: =Select(Parent)
                  PaddingBottom: =0
                  PaddingLeft: =0
                  PaddingRight: =0
                  PaddingTop: =0
                  Size: =20
                  Text: =ThisItem.'Descripción Incidencia'
                  VerticalAlign: =VerticalAlign.Top
                  Width: =566
                  X: =32
                  Y: =LblDescripcionCorta.Y + LblDescripcionCorta.Height + 2
            - LblEstado:
                Control: Label@2.5.1
                Properties:
                  BorderColor: =RGBA(0, 0, 0, 1)
                  Color: =Switch (ThisItem.Estado.Value, "Nuevo" , Color.Red ,"En progreso" , Color.Blue , "En espera" , Color.Yellow, Color.Green)
                  Font: =Font.'Open Sans'
                  FontWeight: =FontWeight.Bold
                  Height: =69
                  OnSelect: =Select(Parent)
                  PaddingBottom: =0
                  PaddingLeft: =0
                  PaddingRight: =0
                  PaddingTop: =0
                  Size: =17
                  Text: |+
                    =ThisItem.Estado.Value
                  VerticalAlign: =VerticalAlign.Top
                  Width: =139
                  X: =32
                  Y: =254
            - NextArrow2:
                Control: Classic/Icon@2.5.0
                Properties:
                  AccessibleLabel: =Self.Tooltip
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Color: =RGBA(54, 176, 75, 1)
                  Height: =60
                  Icon: =Icon.ChevronRight
                  OnSelect: =Select(Parent)
                  PaddingBottom: =10
                  PaddingLeft: =10
                  PaddingRight: =10
                  PaddingTop: =10
                  TabIndex: =0
                  Tooltip: ="Ver los detalles del elemento"
                  Width: =60
                  X: =Parent.TemplateWidth - Self.Width - 5
                  Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
            - Separator2:
                Control: Rectangle@2.3.0
                Properties:
                  BorderColor: =RGBA(54, 176, 75, 1)
                  BorderThickness: =3
                  Fill: =RGBA(54, 176, 75, 1)
                  Height: =1
                  OnSelect: =Select(Parent)
                  Width: =Parent.TemplateWidth
                  Y: =Parent.TemplateHeight - 1
            - LblFechaIncidencia:
                Control: Label@2.5.1
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Font: =Font.'Open Sans'
                  Height: =69
                  OnSelect: =Select(Parent)
                  Size: =17
                  Text: "=Text(DateValue(ThisItem.'Fecha Incidencia'),\"yyyy/mm/dd\") "
                  VerticalAlign: =VerticalAlign.Top
                  Width: =135
                  X: =504
                  Y: =254
            - LblUbicacion:
                Control: Label@2.5.1
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Color: =RGBA(54, 176, 75, 1)
                  Font: =Font.'Open Sans'
                  FontWeight: =FontWeight.Bold
                  Height: =69
                  OnSelect: =Select(Parent)
                  Size: =17
                  Text: '=ThisItem.Ubicación.Value '
                  VerticalAlign: =VerticalAlign.Top
                  Width: =331
                  X: =171
                  Y: =254
      - LblAppName1:
          Control: Label@2.5.1
          Properties:
            BorderColor: =RGBA(0, 0, 0, 1)
            Color: =RGBA(255, 255, 255, 1)
            Fill: =RGBA(58, 58, 58, 0)
            Font: =Font.'Open Sans'
            Height: =88
            Size: =27
            Text: ="Inc. Informáticas"
            Width: =Parent.Width - Self.X - IconSortUpDown1.Width - IconNewItem1.Width - IconRefresh1.Width
            Wrap: =false
            X: =20
      - IconRefresh1:
          Control: Classic/Icon@2.5.0
          Properties:
            AccessibleLabel: =Self.Tooltip
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: =RGBA(255, 255, 255, 1)
            Height: =88
            Icon: =Icon.Reload
            OnSelect: =Refresh([@'Incidencias Informáticas'])
            PaddingBottom: =22
            PaddingLeft: =22
            PaddingRight: =22
            PaddingTop: =22
            PressedFill: =RGBA(255, 255, 255, 0.3)
            TabIndex: =0
            Tooltip: ="Actualizar lista"
            Width: =88
            X: =Parent.Width - IconNewItem1.Width - IconSortUpDown1.Width - Self.Width
      - IconSortUpDown1:
          Control: Classic/Icon@2.5.0
          Properties:
            AccessibleLabel: =Self.Tooltip
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: =RGBA(255, 255, 255, 1)
            Height: =88
            Icon: =Icon.Sort
            OnSelect: |-
              =UpdateContext({SortDescending1: !SortDescending1})
            PaddingBottom: =26
            PaddingLeft: =26
            PaddingRight: =26
            PaddingTop: =26
            PressedFill: =RGBA(255, 255, 255, 0.3)
            TabIndex: =0
            Tooltip: =If(SortDescending1, "Ordenar la lista en orden alfabético inverso", "Ordenar la lista en orden alfabético")
            Width: =88
            X: =Parent.Width - IconNewItem1.Width - Self.Width
      - IconNewItem1:
          Control: Classic/Icon@2.5.0
          Properties:
            AccessibleLabel: =Self.Tooltip
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: =RGBA(255, 255, 255, 1)
            DisplayMode: =If(DataSourceInfo([@'Incidencias Informáticas'], DataSourceInfo.CreatePermission), DisplayMode.Edit, DisplayMode.Disabled)
            Height: =88
            Icon: =Icon.Add
            OnSelect: =NewForm(FormularioEdicionInc);Navigate(EdicionIncidencia, ScreenTransition.None)
            PaddingBottom: =24
            PaddingLeft: =24
            PaddingRight: =24
            PaddingTop: =24
            PressedFill: =RGBA(255, 255, 255, 0.3)
            TabIndex: =0
            Tooltip: ="Crear elemento"
            Width: =88
            X: =Parent.Width - Self.Width
      - TextSearchBox1:
          Control: Classic/TextInput@2.3.2
          Properties:
            BorderColor: =RGBA(54, 176, 75, 1)
            BorderStyle: =BorderStyle.None
            Default: =""
            DelayOutput: =true
            Font: =Font.'Open Sans'
            Height: =68
            HintText: ="Buscar en elementos"
            HoverBorderColor: =RGBA(0, 18, 107, 1)
            HoverFill: =RGBA(186, 202, 226, 1)
            PaddingLeft: =70
            RadiusBottomLeft: =0
            RadiusBottomRight: =7
            RadiusTopLeft: =0
            RadiusTopRight: =7
            Width: =Parent.Width
            Y: =RectQuickActionBar1.Height
      - SearchIcon1:
          Control: Classic/Icon@2.5.0
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: =RGBA(191, 190, 190, 1)
            Height: =Self.Width
            Icon: =Icon.Search
            PaddingBottom: =14
            PaddingLeft: =14
            PaddingRight: =14
            PaddingTop: =14
            Tooltip: ="Buscar"
            Width: =TextSearchBox1.Height
            X: =TextSearchBox1.X
            Y: =TextSearchBox1.Y
      - Rectangle11:
          Control: Rectangle@2.3.0
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Fill: =RGBA(0, 18, 107, 1)
            Height: =2
            Width: =Parent.Width
            Y: =TextSearchBox1.Y + TextSearchBox1.Height
      - NoCerradas:
          Control: Classic/Toggle@2.1.0
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            FalseText: ="No cerradas"
            Font: =Font.'Open Sans'
            Height: =59
            Size: =19
            TrueFill: =RGBA(54, 176, 75, 1)
            TrueText: ="Todas"
            Width: =263
            X: =377
            Y: =97
